<!--
@author Francisco Miguel Aramburo Torres - atfm05@gmail.com
-->

<link rel="import" href="../components/polymer/polymer.html">
<link rel="import" href="../components/iron-flex-layout/classes/iron-flex-layout.html">

<link rel="import" href="../components/iron-icons/iron-icons.html">
<link rel="import" href="../components/paper-button/paper-button.html">
<link rel="import" href="../components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../components/paper-styles/color.html">
<link rel="import" href="../components/paper-styles/typography.html">

<link rel="import" href="../components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../components/paper-toolbar/paper-toolbar.html">

<link rel="import" href="../pl-utils/nav-a.html">
<link rel="import" href="../pl-utils/arckane-styles.html">

<!--
`<menu-drawer>` encapsulates all the elements and functionalities of the side app
drawer. The app frame is found in `<menu-frame>` which uses this element.
-->
<dom-module id="menu-drawer">

  <style include="arckane-styles">
    * {
      box-sizing: border-box;
    }

    :host {
      color: white;
      @apply(--paper-font-common-base);
      --paper-toolbar: {
      };
    }

    nav-a {
      cursor: pointer;
    }

    a {
      color: inherit;
      text-decoration: none;
      display: block;
    }

    #drawer-header {
      color: var(--google-grey-300);
      height: 256px;
      /*
      border-bottom: 1px solid;
      border-color: var(--arckane-purple-200);
      */
      background-color: var(--google-grey-100);
    }

    #drawer-header iron-icon {
      width: 200px;
      height: 200px;
    }

    #drawer h1 {
      cursor: pointer;
    }

    #drawer-content .container {
      @apply(--layout-horizontal);
      @apply(--layout-center);
      padding-left: 10px;
      padding-top: 20px;
      cursor: pointer;
    }

    #drawer-content .space {
      height: 20px;
    }

    #drawer-content .container iron-icon {
      margin-right: 10px;
    }

    #drawer-content .option iron-icon {
      color: white;
    }
  </style>

  <template>
    <!-- Side drawer menu -->
    <paper-header-panel drawer mode="waterfall">

      <!-- Drawer header -->
      <!-- User -->
      <nav-a route="[[userInfo.home]]" on-tap="_closeDrawer">
        <div id="drawer-header" class="horizontal layout center">
          <iron-icon class="flex self-center" icon="account-circle"></iron-icon>
        </div>
      </nav-a>

      <!-- Drawer content -->
      <div id="drawer-content" class="vertical layout">

        <!-- Sign out-->
        <div class="container option">
          <a href="/signout">
            <iron-icon icon="assignment-turned-in"></iron-icon>
            Sign Out
          </a>
        </div>

        <div class="space"></div>

      </div>
    </paper-header-panel>
  </template>

  <script>

    Polymer({

      is: 'menu-drawer',

      properties: {

        /**
         * General info of the user, used to display the correct menu items in
         * `<menu-drawer>`. The home property is the url of the user.
         *
         * @type {{
         *   home: string,
         *   name: string,
         *   skillbooks: Array<{
         *     name: string,
         *     url: string
         *   }>}}
         */
        userInfo: Object
      }
    });
  </script>
</dom-module>
